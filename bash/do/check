#!/usr/bin/env bash
# Compute or check SHA256 message digest

if [[ $# -ne 1 || ! -f "$1" ]]; then
    echo check FILE
    exit
fi

if [[ -f "$1.SHA256SUM" && "$1.SHA256SUM" -nt "$1" ]]; then
    sha256sum -c "$1.SHA256SUM"
else
    sha256sum "$1" > "$1.SHA256SUM"
fi
